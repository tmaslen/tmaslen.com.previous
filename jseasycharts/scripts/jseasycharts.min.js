var jsEasyCharts;(function(){var g=function(x,F,t,w,B,G){t=(t||{});w=(w||"");var v="",y="",E="",z="";x=n(x);var u=a(F);data=u.data;y=u.labels.substr(4);var H="chs="+(t.size||"100x100");t.type=(f(t.type)||w[0]);if(("|"+w.toString()+"|").replace(/,/g,"|").indexOf("|"+t.type+"|")==-1){throw new Error("Bar chart type unrecognised")}if(data.indexOf("|")>-1){t.type=m(t.type)}var D="cht="+t.type;if(t.graphAxis=="horizontal"){if(y.indexOf("|")>-1){y=y.split("|").reverse().join("|")}}if(j(t.labels)){if(t.graphAxis=="horizontal"){t.labels.reverse()}y=t.labels.toString().replace(/,/g,"|")}var s="chco="+(t.colour||"");t.altText=(t.altText||"");if(typeof t.legend!="undefined"){G+="&amp;chdl="+t.legend.replace(/,/g,"|")}if(t.https===true){v="https://www.google.com/chart?"}else{v="http://chart.apis.google.com/chart?"}switch(B){case"pie":t.showLabels=(typeof t.showLabels=="undefined")?true:t.showLabels;if(t.showLabels==false){y=""}else{y="chl="+y}break;case"bar":case"line":t.showAxisLabels=(function(){if(t.showAxisLabels===false){return false}if(t.axisLabels){return true}return false})();if(t.showAxisLabels===true){E=t.axisLabels.toString().replace(/,/g,"|")}if(t.showLabels==false){y=""}if((y=="")&&(E!="")){}var C=y.length+E.length;var z="";if(C>0){z="chxt=";if(t.graphAxis=="vertical"){z+=p("x","y",y.length,E.length)}else{z+=p("y","x",y.length,E.length)}}if(C>0){if((y.length>0)&&(E.length==0)){y="chxl=0:|"+y}if((y.length>0)&&(E.length>0)){y="chxl=0:|"+y+"|1:|"+E}if((y.length==0)&&(E.length>0)){y="chxl=0:|"+E}}if((typeof t.dataScaling=="object")&&(typeof t.dataScaling.top=="number")&&(typeof t.dataScaling.bottom=="number")){G+="&amp;chds="+t.dataScaling.bottom+","+t.dataScaling.top}if((B=="bar")&&(t.grouped==true)){D=D.slice(0,-1)+"g"}break}var A=v+H+"&amp;"+data+"&amp;"+D+"&amp;"+s+"&amp;"+y+"&amp;"+z+G;x.innerHTML+='<img src="'+A+'" alt="'+t.altText+'" height="'+H.substr(4).split("x")[1]+'" width="'+H.substr(4).split("x")[0]+'" />'};jsEasyCharts={line:function(t,s,u){var v="";u=(u||{});u.graphAxis="vertical";return new g(t,s,u,["lc","ls","lxy"],"line",v)},bar:function(t,s,u){var v="&amp;chds=,140";u=(u||{});if(u.additionalPairValues){v+=u.additionalPairValues}u.graphAxis=(u.type=="vertical")?"vertical":"horizontal";if((typeof u.barWidth!="undefined")||(typeof u.barSpacing!="undefined")){v+=(typeof u.barWidth=="number")?"&amp;chbh="+u.barWidth:"&amp;chbh=r";if(typeof u.barSpacing=="number"){v+=","+u.barSpacing}}return new g(t,s,u,["bhs","bvs","bhg","bvg"],"bar",v)},pie:function(t,s,u){u=(u||{});var v="";return new g(t,s,u,["p","pc","p3"],"pie",v)},sideBySide:function(x,D,u){u=(u||{});var B=a(D);var w=B.data.substr(6).split("|");if(w.length!=2){throw new Error("jsEasyCharts.sideBySide chart requires two data tracks only.  You have supplied "+w.length)}w[0]=w[0].split(",");w[1]=w[1].split(",");for(var C=0,v=w[0].length;C<v;C++){w[0][C]=q(w[0][C])}u.dataScaling=u.dataScaling||{top:100,bottom:0};if((u.dataScaling.top<0)||(u.dataScaling.bottom<0)){throw new Error("jsEasyCharts.sideBySide chart cannot handle dataScaling with values less than 0")}var A={top:0,bottom:100};A.top=u.dataScaling.top;A.bottom=u.dataScaling.bottom;u.dataScaling.top=q(A.bottom);u.dataScaling.bottom=q(A.top);if(!j(u.labels)){u.labels=B.labels.substr(4).split("|")}u.size=u.size||"300x300";var y=u.size;u.size=(y.substr(0,y.indexOf("x"))/2)+y.substr(y.indexOf("x"));if(typeof u.legend!="undefined"){delete u.legend}var t=document.createElement("DIV");t.id="jsEasyChartSideBySide";t.style.width=y.substr(0,y.indexOf("x"))+"px";x=n(x);x.appendChild(t);x=document.getElementById("jsEasyChartSideBySide");if(u.gridLines==true){u.additionalPairValues="&chg=10,100"}var s="";if(u.labels){s=u.labels.slice(0);u.labels=""}o(u);this.bar(x,w[0],u);u.dataScaling=A;if(s!=""){u.labels=s}o(u);u.additionalPairValues+="&chm=r,FFFFFF,0,-0.01,0.001,1|r,000000,0,0.998,1,1|R,000000,0,0.999,1,1";this.bar(x,w[1],u);x.id="";x.className="jsEasyChartSideBySide"}};function p(w,t,s,v){var u="";if(s>0){u+=w}if((s>0)&&(v>0)){u+=","}if(v>0){u+=t}return u}function j(s){if((typeof s=="object")&&(typeof s.length=="number")){return true}else{return false}}function o(s){if(s.axisLabels){s.axisLabels.reverse()}return s}function n(s){if(typeof s=="string"){s=document.getElementById(s)}if(s==null){throw new Error("You must define an element to append the chart to")}return s}function q(s){if(isNaN(s)){throw new Error("The data source for the chart must be numeric.");return false}return parseInt("-"+s)}function a(s){var u="",v="";if(typeof s=="undefined"){throw new Error("No data entered to make a pie chart")}else{if(typeof s.length=="undefined"){u="chd=t:"+e(s);v="chl="+k(s)}else{if((document.getElementById(s)!=null)&&(document.getElementById(s).nodeName.toLowerCase()=="table")){s=document.getElementById(s);var t=i(s);if(t[0]=="vertical"){u="chd=t:"+d(s,t[1]);v="chl="+r(s)}else{u="chd=t:"+h(s,t[1]);v="chl="+b(s)}}else{u="chd=t:"+c(s)}}}return{data:u,labels:v}}function c(u){if(typeof u[0]=="object"){var y="";for(var w=0,t=u.length;w<t;w++){if(w>0){y=y.slice(0,-1)+"|"}for(var s=0,v=u[w].length;s<v;s++){y+=u[w][s]+","}}return y.slice(0,-1)}else{return u}}function e(s){var t=[];for(value in s){if(typeof s[value]=="object"){return l(s)}t.push(s[value])}return t}function l(s){var t="";for(track in s){for(value in s[track]){t+=s[track][value]+","}t=t.slice(0,-1)+"|"}return t.slice(0,-1)}function k(t){var s="";for(label in t){s+=label+"|"}return s.slice(0,-1)}function i(D){var w=true,t=0,A=0,C=D.getElementsByTagName("TR"),u=C.length,B,z,v,s;for(B=0;B<u;B++){t=0;v=C[B].getElementsByTagName("TD");for(z=1,s=v.length;z<s;z++){if(isNaN(Number(v[z].innerHTML))){w=false}if(w==false){break}t++}A=t;if(w==false){break}}if(A>0){return["vertical",A]}w=true;t=0;for(B=1,C=D.getElementsByTagName("TR"),u=C.length;B<u;B++){v=C[B].getElementsByTagName("TD");for(z=0,s=v.length;z<s;z++){if(isNaN(Number(v[z].innerHTML))){w=false}if(w==false){break}}if(w==false){break}t++}if(t>0){return["horizontal",t]}throw new Error("The submitted table element does not have data that can be used with a chart")}function d(u,y){var t=u.getElementsByTagName("TR"),x="";for(var v=1;v<=y;v++){if(v>1){x=x.slice(0,-1)+"|"}for(var w=0,s=t.length;w<s;w++){x+=parseInt(t[w].getElementsByTagName("TD")[v].innerHTML)+","}}return x.slice(0,-1)}function h(t,y){var w,x="";for(var u=1;u<=y;u++){if(u>1){x=x.slice(0,-1)+"|"}w=t.getElementsByTagName("TR")[u].getElementsByTagName("TD");for(var v=0,s=w.length;v<s;v++){x+=parseInt(w[v].innerHTML)+","}}return x.slice(0,-1)}function r(u){var t=u.getElementsByTagName("TR");var w=[];for(var v=0,s=t.length;v<s;v++){w.push(t[v].getElementsByTagName("TD")[0].innerHTML)}return w.toString().replace(/,/g,"|")}function b(t){var v=t.getElementsByTagName("TR")[0].getElementsByTagName("TD");var w=[];for(var u=0,s=v.length;u<s;u++){w.push(v[u].innerHTML)}return w.toString().replace(/,/g,"|")}function f(s){switch(s){case"horizontal":return"bhs";break;case"vertical":return"bvs";break;case"3d":return"p3";break}return s}function m(s){switch(s){case"p3":case"p":return"pc";break}return s}return jsEasyCharts})();